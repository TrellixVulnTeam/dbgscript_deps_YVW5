import sys, runpy, ptvsd, os

# Wait for attach from debugger.
ptvsd.wait_for_attach()

# Remove ourselves from argv.
del sys.argv[0]

mainpyfile = sys.argv[0]

# Replace pdb's dir with script's dir in front of module search path.
sys.path[0] = os.path.dirname(mainpyfile)

# Call underlying script.
runpy.run_path(mainpyfile, run_name='__main__')